<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>    <div class="description">
        
        <p class="web-editor-link-container">
            <a href="https://editor.p5js.org/npuckett/sketches/T6n1O_dKq" target="_blank" class="web-editor-link">
                Open this sketch in P5 Web Editor →
            </a>
        </p>
        
        <h3>Try It</h3>
        <p>Click to watch obstacles clear the path before the main movement begins.</p>
    </div>

    <div class="container">
        <div class="canvas-container">
            <div id="canvas"></div>
        </div>
    </div>

    <div class="description">
        <h3>Concept</h3>
        <p><strong>BEFORE</strong> means occurring earlier than a reference event. This shows obstacles moving out of the way before a main movement can begin, demonstrating that one action must complete before another can start.</p>
        
        <h3>Translation Strategy</h3>
        <p>To create "before" relationships in programming:</p>
        <ul>
            <li><strong>Prerequisites:</strong> Check that conditions are met before proceeding</li>
            <li><strong>Sequential Stages:</strong> Complete setup actions before main actions</li>
            <li><strong>State Management:</strong> Track completion of prerequisite tasks</li>
            <li><strong>Automatic Progression:</strong> Move to next stage when ready</li>
        </ul>
        
        <h3>Key P5.js Methods</h3>
        <div class="code-section">
            <strong>State Tracking:</strong><br>
            • Boolean flags: <code>let isClearing = false;</code><br>
            • <a href="https://p5js.org/reference/p5/Array" target="_blank">Arrays</a> - Store multiple objects to check<br>
            • Object properties: <code>obstacle.hasCleared</code><br><br>
            
            <strong>Loop Types - Working with Arrays:</strong><br>
            • <strong>for...of loop:</strong> <code>for (let item of array)</code> - gives you each item directly<br>
            • <strong>Traditional for loop:</strong> <code>for (let i = 0; i < array.length; i++)</code> - uses index numbers<br>
            • Use for...of when you just need to work with each item<br>
            • Use traditional for when you need the position/index number<br><br>
            
            <strong>Movement & Animation:</strong><br>
            • <a href="https://p5js.org/reference/p5/lerp" target="_blank">lerp(start, stop, amount)</a> - Smooth interpolation between values<br>
            • <a href="https://p5js.org/reference/p5/dist" target="_blank">dist()</a> - Check if objects reached targets<br>
            • <a href="https://p5js.org/reference/p5/random" target="_blank">random()</a> - Generate scatter positions<br><br>
            
            <strong>Visual Feedback:</strong><br>
            • <a href="https://p5js.org/reference/p5/fill" target="_blank">fill(r, g, b)</a> - Color changes for states<br>
            • Progress counters: <code>${cleared}/4 cleared</code><br>
            • Trail visualization with <a href="https://p5js.org/reference/p5/map" target="_blank">map()</a><br><br>
            
            <strong>Conditional Logic:</strong><br>
            • Check all prerequisites: <code>if (allCleared)</code><br>
            • State transitions: <code>isClearing = false; isMoving = true;</code>
        </div>
        
        <h3>Code Structure</h3>
        <div class="code-section">
            <strong>Basic Pattern for "Before":</strong><br><br>
            
            1. <strong>Create obstacles:</strong> Objects that must move before main action<br>
            <code>obstacles.push({x: startX, y: startY, hasCleared: false});</code><br><br>
            
            2. <strong>Check prerequisites using for...of loop:</strong><br>
            <code>let allCleared = true;</code><br>
            <code>for (let obstacle of obstacles) {</code><br>
            <code>&nbsp;&nbsp;if (!obstacle.hasCleared) allCleared = false;</code><br>
            <code>}</code><br><br>
            
            3. <strong>Progress when ready:</strong> Start main action only after setup<br>
            <code>if (allCleared) {</code><br>
            <code>&nbsp;&nbsp;isClearing = false;</code><br>
            <code>&nbsp;&nbsp;isMoving = true; // Main action starts</code><br>
            <code>}</code><br><br>
            
            4. <strong>Visual feedback with for...of loop:</strong><br>
            <code>for (let obstacle of obstacles) {</code><br>
            <code>&nbsp;&nbsp;if (obstacle.hasCleared) cleared++;</code><br>
            <code>}</code><br>
            <code>text(`Clearing path (${cleared}/4 cleared)`, x, y);</code><br><br>
            
            <strong>Loop Comparison Example:</strong><br>
            <code>// for...of: easier to read, gives you the item directly</code><br>
            <code>for (let obstacle of obstacles) {</code><br>
            <code>&nbsp;&nbsp;obstacle.x = lerp(obstacle.x, obstacle.targetX, 0.1);</code><br>
            <code>}</code><br><br>
            <code>// Traditional for: when you need the index position</code><br>
            <code>for (let i = 0; i < obstacles.length; i++) {</code><br>
            <code>&nbsp;&nbsp;obstacles[i].x = 120 + (i * 60); // Position based on index</code><br>
            <code>}</code><br><br>
            
            <strong>Understanding lerp():</strong><br>
            <code>lerp(start, stop, amount)</code> - Interpolates between two values<br>
            • <code>start</code> - Current position<br>
            • <code>stop</code> - Target position<br>
            • <code>amount</code> - How much to move (0.1 = move 10% closer each frame)<br>
            • Creates smooth, eased movement that slows down as it approaches the target
        </div>
        </div>
    </div>

    <script src="jsFiles/sketch-before.js"></script>
</body>
</html>
