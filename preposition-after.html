<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>    <div class="description">
        
        <p class="web-editor-link-container">
            <a href="https://editor.p5js.org/npuckett/sketches/GzGonI_p9" target="_blank" class="web-editor-link">
                Open this sketch in P5 Web Editor →
            </a>
        </p>
        
        <h3>Try It</h3>
        <p>Click to launch a projectile toward the impact point. Watch what happens after the collision!</p>
    </div>

    <div class="container">
        <div class="canvas-container">
            <div id="canvas"></div>
        </div>
    </div>

    <div class="description">
        <h3>Concept</h3>
        <p>The preposition <strong>"after"</strong> indicates that something happens following a specific event or action. It establishes a sequence where one action occurs subsequent to another. In this visualization, particles scatter in different directions after a collision occurs, demonstrating the consequences that follow an impact.</p>

        <h3>Visual Translation Strategy</h3>
        <p>To represent "after" relationships through movement:</p>
        <ul>
            <li><strong>Sequential Actions:</strong> One event triggers the next in a clear sequence</li>
            <li><strong>Collision Effects:</strong> Impact creates consequences that spread outward</li>
            <li><strong>State Transitions:</strong> Clear visual changes show before/during/after states</li>
            <li><strong>Radial Scattering:</strong> Effects emanate from the central event point</li>
        </ul>

        <h3>Key P5.js Methods</h3>
        <div class="code-section">
            <strong>Movement and Physics:</strong><br>
            • <a href="https://p5js.org/reference/p5/atan2" target="_blank">atan2()</a> - calculates angle for projectile movement<br>
            • <a href="https://p5js.org/reference/p5/cos" target="_blank">cos()</a> and <a href="https://p5js.org/reference/p5/sin" target="_blank">sin()</a> - for directional movement<br>
            • <a href="https://p5js.org/reference/p5/dist" target="_blank">dist()</a> - measures distance for collision detection<br>
            • <a href="https://p5js.org/reference/p5/TWO_PI" target="_blank">TWO_PI</a> - for evenly distributed scatter angles<br><br>
            
            <strong>Visual Elements:</strong><br>
            • <a href="https://p5js.org/reference/p5/fill" target="_blank">fill()</a> - color coding for different states<br>
            • <a href="https://p5js.org/reference/p5/ellipse" target="_blank">ellipse()</a> - draws projectile, impact point, and particles<br>
            • <a href="https://p5js.org/reference/p5/beginShape" target="_blank">beginShape()</a> - creates movement trails<br>
            • <a href="https://p5js.org/reference/p5/vertex" target="_blank">vertex()</a> - builds trail paths<br><br>
            
            <strong>State Management:</strong><br>
            • Boolean flags to track collision state<br>
            • Array methods for particle management<br>
            • Velocity dampening for realistic physics
        </div>

        <h3>Code Structure</h3>
        <div class="code-section">
            <strong>Basic Pattern for "After" Effects:</strong><br><br>
            
            1. <strong>Setup initial state:</strong> Position projectile and target<br>
            <code>let projectile = { x: 50, y: 150, isMoving: false };</code><br>
            <code>let impact = { x: 200, y: 150, hasHappened: false };</code><br><br>
            
            2. <strong>Move toward collision:</strong> Update projectile position<br>
            <code>let angle = atan2(dy, dx);</code><br>
            <code>projectile.x += cos(angle) * speed;</code><br>
            <code>projectile.y += sin(angle) * speed;</code><br><br>
            
            3. <strong>Detect collision:</strong> Check for impact<br>
            <code>if (distance < projectile.speed + impact.size/2) {</code><br>
            <code>&nbsp;&nbsp;impact.hasHappened = true;</code><br>
            <code>&nbsp;&nbsp;// Start "after" effects here</code><br>
            <code>}</code><br><br>
            
            4. <strong>Trigger scatter effects:</strong> Particles move after impact<br>
            <code>for (let particle of particles) {</code><br>
            <code>&nbsp;&nbsp;if (impact.hasHappened) {</code><br>
            <code>&nbsp;&nbsp;&nbsp;&nbsp;particle.x += particle.vx;</code><br>
            <code>&nbsp;&nbsp;&nbsp;&nbsp;particle.y += particle.vy;</code><br>
            <code>&nbsp;&nbsp;&nbsp;&nbsp;particle.vx *= 0.98; // Slow down over time</code><br>
            <code>&nbsp;&nbsp;}</code><br>
            <code>}</code>
        </div>
    </div>

    <script src="jsFiles/sketch-after.js"></script>
</body>
</html>
