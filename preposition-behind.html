<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>    <div class="description">
        
        <p class="web-editor-link-container">
            <a href="https://editor.p5js.org/npuckett/sketches/T6n1O_dKq" target="_blank" class="web-editor-link">
                Open this sketch in P5 Web Editor →
            </a>
        </p>
        
        <h3>Try It</h3>
        <p>Drag the circles in the canvas below. The blue circle is always drawn first (behind), and the red circle is always drawn second (in front). Notice how overlap is detected and percentage is calculated.</p>
    </div>

    <div class="container">
        <div class="canvas-container">
            <div id="canvas"></div>
        </div>
    </div>

    <div class="description">
        <h3>Concept</h3>
        <p><strong>BEHIND</strong> means positioned at the back of something, obscured or hidden by it. In 2D graphics, this is represented through drawing order and layering - elements drawn first appear behind those drawn later.</p>
        
        <h3>Translation Strategy</h3>
        <p>To create "behind" relationships on screen:</p>
        <ul>
            <li><strong>Drawing Order:</strong> Draw "behind" elements first, "in front" elements last</li>
            <li><strong>Depth Simulation:</strong> Use size, opacity, or color to suggest depth</li>
            <li><strong>Overlap Detection:</strong> Check if elements overlap and manage visibility</li>
        </ul>
        
        <h3>Key P5.js Methods</h3>
        <div class="code-section">
            <strong>Overlap Detection:</strong><br>
            • <a href="https://p5js.org/reference/p5/dist" target="_blank">dist(x1, y1, x2, y2)</a> - Calculate distance between circle centers<br>
            • Compare distance to sum of radii to detect overlap<br><br>
            
            <strong>Percentage Calculation:</strong><br>
            • Calculate how much circles overlap<br>
            • Use overlap distance relative to maximum possible overlap<br><br>
            
            <strong>Drawing Order:</strong><br>
            • Elements drawn first appear behind elements drawn later<br>
            • Blue circle drawn first = always behind<br>
            • Red circle drawn second = always in front<br><br>
            
            <strong>Visual Feedback:</strong><br>
            • <a href="https://p5js.org/reference/p5/stroke" target="_blank">stroke()</a> - Change outline colors when overlapping<br>
            • <a href="https://p5js.org/reference/p5/text" target="_blank">text()</a> - Display percentage on behind circle<br><br>
            
            <strong>Mouse Interaction:</strong><br>
            • <a href="https://p5js.org/reference/p5/mousePressed" target="_blank">mousePressed()</a> - Detect when mouse is clicked<br>
            • <a href="https://p5js.org/reference/p5/mouseDragged" target="_blank">mouseDragged()</a> - Detect when mouse is dragged<br>
            • <a href="https://p5js.org/reference/p5/mouseReleased" target="_blank">mouseReleased()</a> - Detect when mouse is released
        </div>
        
        <h3>Overlap Detection & Percentage</h3>
        <div class="code-section">
            <strong>Step 1: Check if circles overlap</strong><br>
            <code>let distance = dist(blueCircle.x, blueCircle.y, redCircle.x, redCircle.y);</code><br>
            <code>let radiusSum = blueCircle.radius + redCircle.radius;</code><br>
            <code>let isOverlapping = distance < radiusSum;</code><br><br>
            
            <strong>Step 2: Calculate overlap percentage</strong><br>
            <code>if (isOverlapping) {</code><br>
            <code>&nbsp;&nbsp;let overlapDistance = radiusSum - distance;</code><br>
            <code>&nbsp;&nbsp;let maxPossibleOverlap = Math.min(blueCircle.radius, redCircle.radius) * 2;</code><br>
            <code>&nbsp;&nbsp;percentOverlap = (overlapDistance / maxPossibleOverlap) * 100;</code><br>
            <code>}</code><br><br>
            
            <strong>Step 3: Simple drawing order</strong><br>
            <code>// Draw blue circle FIRST (behind)</code><br>
            <code>fill(100, 150, 255);</code><br>
            <code>ellipse(blueCircle.x, blueCircle.y, blueCircle.radius * 2);</code><br><br>
            <code>// Draw red circle SECOND (in front)</code><br>
            <code>fill(255, 100, 100);</code><br>
            <code>ellipse(redCircle.x, redCircle.y, redCircle.radius * 2);</code>
        </div>
        
        <h3>Code Structure</h3>
        <div class="code-section">
            <strong>Simplified "Behind" Pattern:</strong><br><br>
            
            1. <strong>Define two circles:</strong> No arrays needed<br>
            <code>let blueCircle = {x: 120, y: 150, radius: 55};</code><br>
            <code>let redCircle = {x: 280, y: 150, radius: 55};</code><br><br>
            
            2. <strong>Draw in specific order:</strong> Blue first, then red<br>
            <code>ellipse(blueCircle.x, blueCircle.y, blueCircle.radius * 2); // Behind</code><br>
            <code>ellipse(redCircle.x, redCircle.y, redCircle.radius * 2); // In front</code><br><br>
            
            3. <strong>Calculate relationship:</strong> Distance and overlap detection<br>
            <code>let distance = dist(blueCircle.x, blueCircle.y, redCircle.x, redCircle.y);</code><br>
            <code>let isOverlapping = distance < (blueCircle.radius + redCircle.radius);</code>
        </div>
    </div>    <script src="jsFiles/sketch-behind.js"></script>
</body>
</html>
