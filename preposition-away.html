<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="description">
        
        <p class="web-editor-link-container">
            <a href="https://editor.p5js.org/npuckett/sketches/hgtGXDBXq" target="_blank" class="web-editor-link">
                Open this sketch in P5 Web Editor →
            </a>
        </p>
        
        <h3>Try It</h3>
        <p>Click anywhere to set a source point and watch the circle move away from it.</p>
    </div>

    <div class="container">
        <div class="canvas-container">
            <div id="canvas"></div>
        </div>
    </div>

    <div class="description">
        <h3>Concept</h3>
        <p><strong>AWAY</strong> means moving in the opposite direction from something, creating distance from a source point. This involves calculating direction vectors and moving an object farther from a reference point over time.</p>
        
        <h3>Translation Strategy</h3>
        <p>To create "away" relationships on screen:</p>
        <ul>
            <li><strong>Inverse Vector Calculation:</strong> Calculate the direction from source to object, then move in the opposite direction</li>
            <li><strong>Gradual Movement:</strong> Move in small steps away from the source rather than jumping immediately</li>
            <li><strong>Distance Tracking:</strong> Monitor how far the object gets from its source</li>
            <li><strong>Boundary Handling:</strong> Consider what happens when objects reach screen edges</li>
        </ul>
        
        <h3>Key P5.js Methods</h3>
        <div class="code-section">
            <strong>Vector Mathematics:</strong><br>
            • Calculate direction: <code>dx = currentX - sourceX</code>, <code>dy = currentY - sourceY</code><br>
            • <a href="https://p5js.org/reference/p5/atan2" target="_blank">atan2(dy, dx)</a> - Calculate angle away from source<br>
            • <a href="https://p5js.org/reference/p5/cos" target="_blank">cos(angle)</a> and <a href="https://p5js.org/reference/p5/sin" target="_blank">sin(angle)</a> - Convert angle to movement<br><br>
            
            <strong>Distance and Movement:</strong><br>
            • <a href="https://p5js.org/reference/p5/dist" target="_blank">dist(x1, y1, x2, y2)</a> - Calculate distance from source<br>
            • <a href="https://p5js.org/reference/p5/constrain" target="_blank">constrain(value, min, max)</a> - Keep objects within canvas bounds<br><br>
            
            <strong>Drawing Elements:</strong><br>
            • <a href="https://p5js.org/reference/p5/ellipse" target="_blank">ellipse(x, y, width, height)</a> - Draw moving objects<br>
            • <a href="https://p5js.org/reference/p5/line" target="_blank">line(x1, y1, x2, y2)</a> - Draw direction indicators<br>
            • <a href="https://p5js.org/reference/p5/arrow" target="_blank">Custom arrow drawing</a> - Show direction visually<br><br>
            
            <strong>Animation:</strong><br>
            • Update position each frame in <code>draw()</code> function<br>
            • Use speed variables to control movement rate<br>
            • Implement deceleration as distance increases<br><br>
            
            <strong>Mouse Interaction:</strong><br>
            • <a href="https://p5js.org/reference/p5/mousePressed" target="_blank">mousePressed()</a> - Set new source point when mouse is clicked<br>
            • <a href="https://p5js.org/reference/p5/mouseX" target="_blank">mouseX</a> and <a href="https://p5js.org/reference/p5/mouseY" target="_blank">mouseY</a> - Get source coordinates
        </div>
        
        <h3>Code Structure</h3>
        <div class="code-section">
            <strong>Basic Pattern for "Away":</strong><br><br>
            
            1. <strong>Define moving object and source:</strong> Set up initial positions<br>
            <code>let movingObject = {x: 200, y: 150, speed: 2};</code><br>
            <code>let source = {x: 100, y: 100};</code><br><br>
            
            2. <strong>Calculate direction away:</strong> Find vector opposite to source<br>
            <code>let dx = movingObject.x - source.x;</code><br>
            <code>let dy = movingObject.y - source.y;</code><br>
            <code>let distance = dist(movingObject.x, movingObject.y, source.x, source.y);</code><br><br>
            
            3. <strong>Move away from source:</strong> Update position each frame<br>
            <code>if (distance > 0) {</code><br>
            <code>&nbsp;&nbsp;let moveX = (dx / distance) * movingObject.speed;</code><br>
            <code>&nbsp;&nbsp;let moveY = (dy / distance) * movingObject.speed;</code><br>
            <code>&nbsp;&nbsp;movingObject.x += moveX;</code><br>
            <code>&nbsp;&nbsp;movingObject.y += moveY;</code><br>
            <code>}</code><br><br>
            
            4. <strong>Handle boundaries:</strong> Keep object within screen or implement wrapping<br>
            <code>movingObject.x = constrain(movingObject.x, 0, width);</code>
        </div>
    </div>

    <script src="jsFiles/sketch-away.js"></script>
</body>
</html>
